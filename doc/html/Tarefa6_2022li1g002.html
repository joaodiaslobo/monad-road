<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>Tarefa6_2022li1g002</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption empty">&nbsp;</span><ul class="links" id="page-menu"><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th valign="top">Copyright</th><td>Jo&#227;o d'Ara&#250;jo Dias Lobo &lt;a104356@alunos.uminho.pt&gt;<br />Rita da Cunha Camacho &lt;a104439@alunos.uminho.pt&gt;</td></tr><tr><th>Safe Haskell</th><td>Safe-Inferred</td></tr></table><p class="caption">Tarefa6_2022li1g002</p></div><div id="description"><p class="caption">Description</p><div class="doc"><p>M&#243;dulo para a realiza&#231;&#227;o da Tarefa 6 do projeto de LI1 em 2022/23.</p></div></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">data</span> <a href="#t:Cena">Cena</a><ul class="subs"><li>= <a href="#v:MainMenu">MainMenu</a> Int</li><li>| <a href="#v:JogoCena">JogoCena</a> (Int, Int)</li><li>| <a href="#v:Editor">Editor</a></li><li>| <a href="#v:SkinsMenu">SkinsMenu</a></li></ul></li><li class="src short"><span class="keyword">data</span> <a href="#t:Estado">Estado</a> = <a href="#v:Estado">Estado</a> {<ul class="subs"><li><a href="#v:debug">debug</a> :: Bool</li><li><a href="#v:cena">cena</a> :: <a href="Tarefa6_2022li1g002.html#t:Cena" title="Tarefa6_2022li1g002">Cena</a></li><li><a href="#v:jogo">jogo</a> :: <a href="LI12223.html#t:Jogo" title="LI12223">Jogo</a></li><li><a href="#v:movimento">movimento</a> :: <a href="LI12223.html#t:Jogada" title="LI12223">Jogada</a></li><li><a href="#v:direcao">direcao</a> :: <a href="LI12223.html#t:Direcao" title="LI12223">Direcao</a></li><li><a href="#v:vivo">vivo</a> :: Bool</li><li><a href="#v:tick">tick</a> :: Int</li><li><a href="#v:seed">seed</a> :: Int</li><li><a href="#v:pontuacao">pontuacao</a> :: (Int, Int)</li><li><a href="#v:genY">genY</a> :: Int</li><li><a href="#v:editor">editor</a> :: <a href="Tarefa6_2022li1g002.html#t:EstadoEditor" title="Tarefa6_2022li1g002">EstadoEditor</a></li><li><a href="#v:skin">skin</a> :: Int</li></ul>}</li><li class="src short"><a href="#v:alturaMapa">alturaMapa</a> :: Int</li><li class="src short"><a href="#v:larguraMapa">larguraMapa</a> :: Int</li><li class="src short"><a href="#v:estadoInicial">estadoInicial</a> :: IO <a href="Tarefa6_2022li1g002.html#t:Estado" title="Tarefa6_2022li1g002">Estado</a></li><li class="src short"><a href="#v:dm">dm</a> :: Display</li><li class="src short"><a href="#v:dimensoesDisplay">dimensoesDisplay</a> :: (Int, Int)</li><li class="src short"><a href="#v:imagensCaminho">imagensCaminho</a> :: String</li><li class="src short"><a href="#v:fps">fps</a> :: Int</li><li class="src short"><a href="#v:taxaUpdate">taxaUpdate</a> :: Int</li><li class="src short"><a href="#v:drawEstado">drawEstado</a> :: [[Picture]] -&gt; <a href="Tarefa6_2022li1g002.html#t:Estado" title="Tarefa6_2022li1g002">Estado</a> -&gt; IO Picture</li><li class="src short"><a href="#v:drawSkinsMenu">drawSkinsMenu</a> :: Picture -&gt; [Picture] -&gt; Int -&gt; Picture</li><li class="src short"><a href="#v:drawMenu">drawMenu</a> :: <a href="Tarefa6_2022li1g002.html#t:Cena" title="Tarefa6_2022li1g002">Cena</a> -&gt; [Picture] -&gt; Picture</li><li class="src short"><a href="#v:drawJogoUI">drawJogoUI</a> :: Int -&gt; (Int, Int) -&gt; [Picture] -&gt; [Picture] -&gt; [Picture] -&gt; Picture</li><li class="src short"><a href="#v:drawPontuacao">drawPontuacao</a> :: Int -&gt; [Picture] -&gt; Picture</li><li class="src short"><a href="#v:drawDebugUI">drawDebugUI</a> :: Int -&gt; (Int, Int) -&gt; Int -&gt; <a href="LI12223.html#t:Direcao" title="LI12223">Direcao</a> -&gt; Bool -&gt; Int -&gt; Picture</li><li class="src short"><a href="#v:drawMuros">drawMuros</a> :: Picture</li><li class="src short"><a href="#v:drawJogo">drawJogo</a> :: [[Picture]] -&gt; <a href="LI12223.html#t:Mapa" title="LI12223">Mapa</a> -&gt; <a href="LI12223.html#t:Coordenadas" title="LI12223">Coordenadas</a> -&gt; <a href="LI12223.html#t:Direcao" title="LI12223">Direcao</a> -&gt; Int -&gt; Bool -&gt; Int -&gt; Picture</li><li class="src short"><a href="#v:drawJogador">drawJogador</a> :: [Picture] -&gt; <a href="LI12223.html#t:Direcao" title="LI12223">Direcao</a> -&gt; <a href="LI12223.html#t:Coordenadas" title="LI12223">Coordenadas</a> -&gt; <a href="LI12223.html#t:Velocidade" title="LI12223">Velocidade</a> -&gt; Int -&gt; Int -&gt; Picture</li><li class="src short"><a href="#v:drawMapa">drawMapa</a> :: [Picture] -&gt; <a href="LI12223.html#t:Mapa" title="LI12223">Mapa</a> -&gt; (Float, Float) -&gt; [Picture]</li><li class="src short"><a href="#v:drawLinha">drawLinha</a> :: [Picture] -&gt; <a href="LI12223.html#t:Largura" title="LI12223">Largura</a> -&gt; (<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>]) -&gt; (Float, Float) -&gt; [Picture]</li><li class="src short"><a href="#v:drawSegmento">drawSegmento</a> :: Picture -&gt; (Float, Float) -&gt; Picture</li><li class="src short"><a href="#v:drawObstaculos">drawObstaculos</a> :: [Picture] -&gt; <a href="LI12223.html#t:Mapa" title="LI12223">Mapa</a> -&gt; (Float, Float) -&gt; Int -&gt; <a href="LI12223.html#t:Coordenadas" title="LI12223">Coordenadas</a> -&gt; [Picture]</li><li class="src short"><a href="#v:drawLinhaObstaculo">drawLinhaObstaculo</a> :: [Picture] -&gt; [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>] -&gt; (Float, Float) -&gt; <a href="LI12223.html#t:Velocidade" title="LI12223">Velocidade</a> -&gt; Int -&gt; Bool -&gt; [Picture]</li><li class="src short"><a href="#v:inputReage">inputReage</a> :: Event -&gt; <a href="Tarefa6_2022li1g002.html#t:Estado" title="Tarefa6_2022li1g002">Estado</a> -&gt; IO <a href="Tarefa6_2022li1g002.html#t:Estado" title="Tarefa6_2022li1g002">Estado</a></li><li class="src short"><a href="#v:proximoN">proximoN</a> :: Int -&gt; Int -&gt; Int -&gt; Int</li><li class="src short"><a href="#v:tempoReage">tempoReage</a> :: Float -&gt; <a href="Tarefa6_2022li1g002.html#t:Estado" title="Tarefa6_2022li1g002">Estado</a> -&gt; IO <a href="Tarefa6_2022li1g002.html#t:Estado" title="Tarefa6_2022li1g002">Estado</a></li><li class="src short"><a href="#v:corFundo">corFundo</a> :: Color</li><li class="src short"><a href="#v:main">main</a> :: IO ()</li><li class="src short"><a href="#v:geraMapa">geraMapa</a> :: <a href="LI12223.html#t:Largura" title="LI12223">Largura</a> -&gt; Int -&gt; Int -&gt; <a href="LI12223.html#t:Mapa" title="LI12223">Mapa</a></li><li class="src short"><a href="#v:geraMapaAux">geraMapaAux</a> :: [Int] -&gt; <a href="LI12223.html#t:Largura" title="LI12223">Largura</a> -&gt; <a href="LI12223.html#t:Mapa" title="LI12223">Mapa</a></li><li class="src short"><a href="#v:arranjaRios">arranjaRios</a> :: [(<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>])] -&gt; [(<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>])]</li><li class="src short"><span class="keyword">data</span> <a href="#t:Chunk">Chunk</a><ul class="subs"><li>= <a href="#v:Linha">Linha</a> (<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>])</li><li>| <a href="#v:Nada">Nada</a></li></ul></li><li class="src short"><span class="keyword">type</span> <a href="#t:CameraEditor">CameraEditor</a> = (Int, Int, Float)</li><li class="src short"><a href="#v:editorDeMapasImagens">editorDeMapasImagens</a> :: IO [[Picture]]</li><li class="src short"><a href="#v:alturaMapaEditor">alturaMapaEditor</a> :: Int</li><li class="src short"><a href="#v:larguraMapaEditor">larguraMapaEditor</a> :: Int</li><li class="src short"><span class="keyword">data</span> <a href="#t:EstadoEditor">EstadoEditor</a> = <a href="#v:EstadoEditor">EstadoEditor</a> {<ul class="subs"><li><a href="#v:chunks">chunks</a> :: [<a href="Tarefa6_2022li1g002.html#t:Chunk" title="Tarefa6_2022li1g002">Chunk</a>]</li><li><a href="#v:modo">modo</a> :: Int</li><li><a href="#v:camera">camera</a> :: <a href="Tarefa6_2022li1g002.html#t:CameraEditor" title="Tarefa6_2022li1g002">CameraEditor</a></li><li><a href="#v:toolbar">toolbar</a> :: Int</li><li><a href="#v:itemSelecionado">itemSelecionado</a> :: Int</li><li><a href="#v:objeto">objeto</a> :: <a href="LI12223.html#t:Coordenadas" title="LI12223">Coordenadas</a></li><li><a href="#v:receberInput">receberInput</a> :: Bool</li><li><a href="#v:nomeFicheiro">nomeFicheiro</a> :: String</li><li><a href="#v:receberSelectMapa">receberSelectMapa</a> :: (Bool, Int)</li><li><a href="#v:mapasGuardados">mapasGuardados</a> :: [String]</li></ul>}</li><li class="src short"><a href="#v:estadoEditorInicial">estadoEditorInicial</a> :: <a href="Tarefa6_2022li1g002.html#t:EstadoEditor" title="Tarefa6_2022li1g002">EstadoEditor</a></li><li class="src short"><a href="#v:drawEditor">drawEditor</a> :: <a href="Tarefa6_2022li1g002.html#t:EstadoEditor" title="Tarefa6_2022li1g002">EstadoEditor</a> -&gt; [[Picture]] -&gt; [[Picture]] -&gt; Picture</li><li class="src short"><a href="#v:drawUIEditor">drawUIEditor</a> :: <a href="Tarefa6_2022li1g002.html#t:EstadoEditor" title="Tarefa6_2022li1g002">EstadoEditor</a> -&gt; [[Picture]] -&gt; Picture</li><li class="src short"><a href="#v:caixaInput">caixaInput</a> :: String -&gt; Picture -&gt; Picture</li><li class="src short"><a href="#v:caixaSelect">caixaSelect</a> :: [String] -&gt; Int -&gt; Picture -&gt; Picture</li><li class="src short"><a href="#v:formataSelects">formataSelects</a> :: [Picture] -&gt; Float -&gt; Int -&gt; [Picture]</li><li class="src short"><a href="#v:desenhaCursor">desenhaCursor</a> :: <a href="LI12223.html#t:Coordenadas" title="LI12223">Coordenadas</a> -&gt; Picture -&gt; Picture</li><li class="src short"><a href="#v:drawChunks">drawChunks</a> :: [Picture] -&gt; [Picture] -&gt; [<a href="Tarefa6_2022li1g002.html#t:Chunk" title="Tarefa6_2022li1g002">Chunk</a>] -&gt; (Float, Float) -&gt; [Picture]</li><li class="src short"><a href="#v:drawLinhaNada">drawLinhaNada</a> :: [Picture] -&gt; <a href="LI12223.html#t:Largura" title="LI12223">Largura</a> -&gt; (Float, Float) -&gt; [Picture]</li><li class="src short"><a href="#v:editaChunk">editaChunk</a> :: [<a href="Tarefa6_2022li1g002.html#t:Chunk" title="Tarefa6_2022li1g002">Chunk</a>] -&gt; <a href="LI12223.html#t:Coordenadas" title="LI12223">Coordenadas</a> -&gt; Int -&gt; Int -&gt; [<a href="Tarefa6_2022li1g002.html#t:Chunk" title="Tarefa6_2022li1g002">Chunk</a>]</li><li class="src short"><a href="#v:nomeMapasGuardados">nomeMapasGuardados</a> :: IO [String]</li><li class="src short"><a href="#v:leChunks">leChunks</a> :: String -&gt; IO [<a href="Tarefa6_2022li1g002.html#t:Chunk" title="Tarefa6_2022li1g002">Chunk</a>]</li><li class="src short"><a href="#v:chunksParaMapa">chunksParaMapa</a> :: [<a href="Tarefa6_2022li1g002.html#t:Chunk" title="Tarefa6_2022li1g002">Chunk</a>] -&gt; <a href="LI12223.html#t:Mapa" title="LI12223">Mapa</a></li><li class="src short"><a href="#v:chunkParaLinha">chunkParaLinha</a> :: <a href="Tarefa6_2022li1g002.html#t:Chunk" title="Tarefa6_2022li1g002">Chunk</a> -&gt; (<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>])</li><li class="src short"><a href="#v:chunksProntos">chunksProntos</a> :: [<a href="Tarefa6_2022li1g002.html#t:Chunk" title="Tarefa6_2022li1g002">Chunk</a>] -&gt; Bool</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Cena" class="def">Cena</a> <a href="#t:Cena" class="selflink">#</a></p><div class="doc"><p>O tipo de dados <code><a href="Tarefa6_2022li1g002.html#t:Cena" title="Tarefa6_2022li1g002">Cena</a></code> &#233; usado no estado para controlar a l&#243;gica da aplica&#231;&#227;o, o grupo decidiu dividir o jogo em cenas para distinguir menus/modos de jogo.</p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:MainMenu" class="def">MainMenu</a> Int</td><td class="doc"><p>Menu principal do jogo.</p></td></tr><tr><td class="src"><a id="v:JogoCena" class="def">JogoCena</a> (Int, Int)</td><td class="doc"><p>Jogo, o tuplo de <code>Int</code> serve para controlar os submenus, primeiro argumento: (<code>0</code> -&gt; Sem Menu, <code>1</code> -&gt; Menu de Pausa, <code>2</code> -&gt; Menu de Game Over), segundo argumento indica a op&#231;&#227;o do submenu selecionada.</p></td></tr><tr><td class="src"><a id="v:Editor" class="def">Editor</a></td><td class="doc"><p>Editor de mapas.</p></td></tr><tr><td class="src"><a id="v:SkinsMenu" class="def">SkinsMenu</a></td><td class="doc"><p>Menu de escolha de personagem.</p></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Cena">Instances</h4><details id="i:Cena" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Cena:Show:1"></span> Show <a href="Tarefa6_2022li1g002.html#t:Cena" title="Tarefa6_2022li1g002">Cena</a></span> <a href="#t:Cena" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Cena:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Tarefa6_2022li1g002.html">Tarefa6_2022li1g002</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Tarefa6_2022li1g002.html#t:Cena" title="Tarefa6_2022li1g002">Cena</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Tarefa6_2022li1g002.html#t:Cena" title="Tarefa6_2022li1g002">Cena</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Tarefa6_2022li1g002.html#t:Cena" title="Tarefa6_2022li1g002">Cena</a>] -&gt; ShowS</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Cena:Eq:2"></span> Eq <a href="Tarefa6_2022li1g002.html#t:Cena" title="Tarefa6_2022li1g002">Cena</a></span> <a href="#t:Cena" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Cena:Eq:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Tarefa6_2022li1g002.html">Tarefa6_2022li1g002</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:-61--61-">(==)</a> :: <a href="Tarefa6_2022li1g002.html#t:Cena" title="Tarefa6_2022li1g002">Cena</a> -&gt; <a href="Tarefa6_2022li1g002.html#t:Cena" title="Tarefa6_2022li1g002">Cena</a> -&gt; Bool</p><p class="src"><a href="#v:-47--61-">(/=)</a> :: <a href="Tarefa6_2022li1g002.html#t:Cena" title="Tarefa6_2022li1g002">Cena</a> -&gt; <a href="Tarefa6_2022li1g002.html#t:Cena" title="Tarefa6_2022li1g002">Cena</a> -&gt; Bool</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Estado" class="def">Estado</a> <a href="#t:Estado" class="selflink">#</a></p><div class="doc"><p>O tipo de dados <code><a href="Tarefa6_2022li1g002.html#t:Estado" title="Tarefa6_2022li1g002">Estado</a></code> cont&#233;m algumas vari&#225;veis globais usadas para atualizar o jogo, a fun&#231;&#227;o <code><a href="Tarefa6_2022li1g002.html#v:tempoReage" title="Tarefa6_2022li1g002">tempoReage</a></code> utiliza este estado com frequ&#234;ncia relativa aos <code><a href="Tarefa6_2022li1g002.html#v:fps" title="Tarefa6_2022li1g002">fps</a></code> do jogo. Este tipo de dados usa &quot;record syntax&quot; que permite ultilizar as suas vari&#225;veis pelo nome. </p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Estado" class="def">Estado</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:debug" class="def">debug</a> :: Bool</dfn><div class="doc"><p>O <code>Bool</code> debug serve para apresentar alguns dados na tela &#250;teis para fins de desenvolvimento.</p></div></li><li><dfn class="src"><a id="v:cena" class="def">cena</a> :: <a href="Tarefa6_2022li1g002.html#t:Cena" title="Tarefa6_2022li1g002">Cena</a></dfn><div class="doc"><p>A <code><a href="Tarefa6_2022li1g002.html#t:Cena" title="Tarefa6_2022li1g002">Cena</a></code> em que a aplica&#231;&#227;o se encontra.</p></div></li><li><dfn class="src"><a id="v:jogo" class="def">jogo</a> :: <a href="LI12223.html#t:Jogo" title="LI12223">Jogo</a></dfn><div class="doc"><p>Quando a aplica&#231;&#227;o se econtra em <code><a href="Tarefa6_2022li1g002.html#v:JogoCena" title="Tarefa6_2022li1g002">JogoCena</a></code> esta vari&#225;vel com tipo definido em <code>LI12223</code> guarda o estado do jogo estilo Crossy Road.</p></div></li><li><dfn class="src"><a id="v:movimento" class="def">movimento</a> :: <a href="LI12223.html#t:Jogada" title="LI12223">Jogada</a></dfn><div class="doc"><p>Quando o jogador prime uma tecla de movimento (setas), esta vari&#225;vel &#233; alterada para indicar o movimento que o jogador deseja efetuar.</p></div></li><li><dfn class="src"><a id="v:direcao" class="def">direcao</a> :: <a href="LI12223.html#t:Direcao" title="LI12223">Direcao</a></dfn><div class="doc"><p>Esta vari&#225;vel serve para desenhar o jogador na tela tendo em conta a dire&#231;&#227;o para onde &quot;olha&quot;, normalmente corresponde &#224; dire&#231;&#227;o do &#250;ltimo movimento efetuado.</p></div></li><li><dfn class="src"><a id="v:vivo" class="def">vivo</a> :: Bool</dfn><div class="doc"><p>Indica se o jogo ainda n&#227;o terminou.</p></div></li><li><dfn class="src"><a id="v:tick" class="def">tick</a> :: Int</dfn><div class="doc"><p>Para suavizar e animar o jogo independentemente dos <code><a href="Tarefa6_2022li1g002.html#v:fps" title="Tarefa6_2022li1g002">fps</a></code> utilizamos esta vari&#225;vel que &#233; atualizada (+1) atualiza&#231;&#227;o do jogo, atualizamos o jogo quando <code>fps == taxaUpdate</code>.</p></div></li><li><dfn class="src"><a id="v:seed" class="def">seed</a> :: Int</dfn><div class="doc"><p>Seed do mapa (valor de 1 a 100 inclusive).</p></div></li><li><dfn class="src"><a id="v:pontuacao" class="def">pontuacao</a> :: (Int, Int)</dfn><div class="doc"><p>Primeiro argumento do tuplo &#233; a pontua&#231;&#227;o apresentada na tela, o segundo &#233; uma vari&#225;vel de controlo (como o y n&#227;o cresce &#224; medida que o mapa avan&#231;a &#233; preciso saber quando &#233; que o jogador realmente &quot;sobe&quot; uma unidade).</p></div></li><li><dfn class="src"><a id="v:genY" class="def">genY</a> :: Int</dfn><div class="doc"><p>Este valor &#233; usado para gerar a pr&#243;xima linha do mapa de forma din&#226;mica.</p></div></li><li><dfn class="src"><a id="v:editor" class="def">editor</a> :: <a href="Tarefa6_2022li1g002.html#t:EstadoEditor" title="Tarefa6_2022li1g002">EstadoEditor</a></dfn><div class="doc"><p>O <code><a href="Tarefa6_2022li1g002.html#t:EstadoEditor" title="Tarefa6_2022li1g002">EstadoEditor</a></code> &#233; usado na cena <code><a href="Tarefa6_2022li1g002.html#v:Editor" title="Tarefa6_2022li1g002">Editor</a></code>. </p></div></li><li><dfn class="src"><a id="v:skin" class="def">skin</a> :: Int</dfn><div class="doc"><p>Indica a personagem que est&#225; a ser utilizada.</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Estado">Instances</h4><details id="i:Estado" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Estado:Show:1"></span> Show <a href="Tarefa6_2022li1g002.html#t:Estado" title="Tarefa6_2022li1g002">Estado</a></span> <a href="#t:Estado" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Estado:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Tarefa6_2022li1g002.html">Tarefa6_2022li1g002</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Tarefa6_2022li1g002.html#t:Estado" title="Tarefa6_2022li1g002">Estado</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Tarefa6_2022li1g002.html#t:Estado" title="Tarefa6_2022li1g002">Estado</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Tarefa6_2022li1g002.html#t:Estado" title="Tarefa6_2022li1g002">Estado</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:alturaMapa" class="def">alturaMapa</a> :: Int <a href="#v:alturaMapa" class="selflink">#</a></p><div class="doc"><p>Quantidade de linhas que aparecem na tela. </p></div></div><div class="top"><p class="src"><a id="v:larguraMapa" class="def">larguraMapa</a> :: Int <a href="#v:larguraMapa" class="selflink">#</a></p><div class="doc"><p>Quantidade de colunas que aparecem na tela. </p></div></div><div class="top"><p class="src"><a id="v:estadoInicial" class="def">estadoInicial</a> :: IO <a href="Tarefa6_2022li1g002.html#t:Estado" title="Tarefa6_2022li1g002">Estado</a> <a href="#v:estadoInicial" class="selflink">#</a></p><div class="doc"><p>Estado inicial do jogo. </p></div></div><div class="top"><p class="src"><a id="v:dm" class="def">dm</a> :: Display <a href="#v:dm" class="selflink">#</a></p><div class="doc"><p>Define o display da aplica&#231;&#227;o Gloss. </p></div></div><div class="top"><p class="src"><a id="v:dimensoesDisplay" class="def">dimensoesDisplay</a> :: (Int, Int) <a href="#v:dimensoesDisplay" class="selflink">#</a></p><div class="doc"><p>Dimens&#245;es da janela do jogo <code>(1600, 900)</code>. </p></div></div><div class="top"><p class="src"><a id="v:imagensCaminho" class="def">imagensCaminho</a> :: String <a href="#v:imagensCaminho" class="selflink">#</a></p><div class="doc"><p>Caminho para os assets gr&#225;ficos. </p></div></div><div class="top"><p class="src"><a id="v:fps" class="def">fps</a> :: Int <a href="#v:fps" class="selflink">#</a></p><div class="doc"><p><strong>Frames per second</strong> , n&#250;mero de vezes que o jogo &#233; desenhado num segundo. </p></div></div><div class="top"><p class="src"><a id="v:taxaUpdate" class="def">taxaUpdate</a> :: Int <a href="#v:taxaUpdate" class="selflink">#</a></p><div class="doc"><p>N&#250;mero de ticks a que o jogo tem de chegar para voltar a ser atualizado. </p></div></div><div class="top"><p class="src"><a id="v:drawEstado" class="def">drawEstado</a> <a href="#v:drawEstado" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [[Picture]]</td><td class="doc"><p>Lista de imagens previamente carregadas.</p></td></tr><tr><td class="src">-&gt; <a href="Tarefa6_2022li1g002.html#t:Estado" title="Tarefa6_2022li1g002">Estado</a></td><td class="doc"><p><code><a href="Tarefa6_2022li1g002.html#t:Estado" title="Tarefa6_2022li1g002">Estado</a></code> da aplica&#231;&#227;o.</p></td></tr><tr><td class="src">-&gt; IO Picture</td><td class="doc"><p>Retorna a <code>Picture</code> que neste caso &#233; o frame completo que a aplica&#231;&#227;o desenhou.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa6_2022li1g002.html#v:drawEstado" title="Tarefa6_2022li1g002">drawEstado</a></code> controla o que deve ser desenhado dependendo do estado da aplica&#231;&#227;o. </p></div></div><div class="top"><p class="src"><a id="v:drawSkinsMenu" class="def">drawSkinsMenu</a> <a href="#v:drawSkinsMenu" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Picture</td><td class="doc"><p>Imagem correspondente ao fundo do menu. </p></td></tr><tr><td class="src">-&gt; [Picture]</td><td class="doc"><p>Imagens de todas as personagens.</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Personagem selecionada.  </p></td></tr><tr><td class="src">-&gt; Picture</td><td class="doc"><p>Retorna a imagem gerada juntando os elementos que recebe.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa6_2022li1g002.html#v:drawSkinsMenu" title="Tarefa6_2022li1g002">drawSkinsMenu</a></code> desenha o menu de escolha de personagem. </p></div></div><div class="top"><p class="src"><a id="v:drawMenu" class="def">drawMenu</a> <a href="#v:drawMenu" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Tarefa6_2022li1g002.html#t:Cena" title="Tarefa6_2022li1g002">Cena</a></td><td class="doc"><p>A vari&#225;vel do tipo <code><a href="Tarefa6_2022li1g002.html#t:Cena" title="Tarefa6_2022li1g002">Cena</a></code> cont&#233;m a op&#231;&#227;o selecionada.</p></td></tr><tr><td class="src">-&gt; [Picture]</td><td class="doc"><p>Imagens que formam o menu.</p></td></tr><tr><td class="src">-&gt; Picture</td><td class="doc"><p>Retorna a imagem relativa &#224; op&#231;&#227;o selecionada.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa6_2022li1g002.html#v:drawMenu" title="Tarefa6_2022li1g002">drawMenu</a></code> desenha o menu principal. </p></div></div><div class="top"><p class="src"><a id="v:drawJogoUI" class="def">drawJogoUI</a> <a href="#v:drawJogoUI" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Int</td><td class="doc"><p>Pontua&#231;&#227;o atual.</p></td></tr><tr><td class="src">-&gt; (Int, Int)</td><td class="doc"><p>Submenu aberto e a sua op&#231;&#227;o selecionada.</p></td></tr><tr><td class="src">-&gt; [Picture]</td><td class="doc"><p>Imagens do menu de pausa.</p></td></tr><tr><td class="src">-&gt; [Picture]</td><td class="doc"><p>Imagens dos n&#250;meros que formam o mostrador da pontua&#231;&#227;o.</p></td></tr><tr><td class="src">-&gt; [Picture]</td><td class="doc"><p>Imagens da tela de game over.</p></td></tr><tr><td class="src">-&gt; Picture</td><td class="doc"><p>Imagem gerada.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa6_2022li1g002.html#v:drawJogoUI" title="Tarefa6_2022li1g002">drawJogoUI</a></code> desenha a interface do jogo, pontua&#231;&#227;o, menu de pausa, tela de game over. </p></div></div><div class="top"><p class="src"><a id="v:drawPontuacao" class="def">drawPontuacao</a> <a href="#v:drawPontuacao" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Int</td><td class="doc"><p>N&#250;mero a ser desenhado.</p></td></tr><tr><td class="src">-&gt; [Picture]</td><td class="doc"><p>Imagens dos n&#250;meros.</p></td></tr><tr><td class="src">-&gt; Picture</td><td class="doc"><p>N&#250;mero em imagem.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa6_2022li1g002.html#v:drawPontuacao" title="Tarefa6_2022li1g002">drawPontuacao</a></code> &#233; auxilar de <code><a href="Tarefa6_2022li1g002.html#v:drawJogoUI" title="Tarefa6_2022li1g002">drawJogoUI</a></code>, desenha um <code>n</code> do tipo <code>Int</code> desde que <code>n &gt;= 0 &amp;&amp; n &lt; 1000</code> atrav&#233;s de imagens com os n&#250;meros de 0 - 9 . </p></div></div><div class="top"><p class="src"><a id="v:drawDebugUI" class="def">drawDebugUI</a> <a href="#v:drawDebugUI" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Int</td><td class="doc"><p>Seed do mapa atual.</p></td></tr><tr><td class="src">-&gt; (Int, Int)</td><td class="doc"><p>Posi&#231;&#227;o do jogador.</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>N&#250;mero de ticks desde a &#250;ltima atualiza&#231;&#227;o do mapa.</p></td></tr><tr><td class="src">-&gt; <a href="LI12223.html#t:Direcao" title="LI12223">Direcao</a></td><td class="doc"><p>Dire&#231;&#227;o atual do jogador.</p></td></tr><tr><td class="src">-&gt; Bool</td><td class="doc"><p>Dire&#231;&#227;o atual do jogador.</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p><code>Bool</code> que indica se o jogo terminou.</p></td></tr><tr><td class="src">-&gt; Picture</td><td class="doc"><p>Retorna um painel de estat&#237;sticas.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa6_2022li1g002.html#v:drawDebugUI" title="Tarefa6_2022li1g002">drawDebugUI</a></code> desenha algumas estat&#237;sticas para fins de desenvolvimento e debugging no canto superior esquerdo da aplica&#231;&#227;o. </p></div></div><div class="top"><p class="src"><a id="v:drawMuros" class="def">drawMuros</a> :: Picture <a href="#v:drawMuros" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa6_2022li1g002.html#v:drawMuros" title="Tarefa6_2022li1g002">drawMuros</a></code> desenha umas barreiras &#224; volta do mapa para esconder alguns obst&#225;culos que ao serem animados passam pelas bordas do mapa. </p></div></div><div class="top"><p class="src"><a id="v:drawJogo" class="def">drawJogo</a> <a href="#v:drawJogo" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [[Picture]]</td><td class="doc"><p>Lista de imagens do jogo. </p></td></tr><tr><td class="src">-&gt; <a href="LI12223.html#t:Mapa" title="LI12223">Mapa</a></td><td class="doc"><p>Mapa a ser desenhado.</p></td></tr><tr><td class="src">-&gt; <a href="LI12223.html#t:Coordenadas" title="LI12223">Coordenadas</a></td><td class="doc"><p>Coordenadas da posi&#231;&#227;o atual do jogador.</p></td></tr><tr><td class="src">-&gt; <a href="LI12223.html#t:Direcao" title="LI12223">Direcao</a></td><td class="doc"><p>Dire&#231;&#227;o atual do jogador.</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Ticks desde a &#250;ltima atualiza&#231;&#227;o do jogo, usado para animar o os obst&#225;culos suavemente (transla&#231;&#227;o suave).</p></td></tr><tr><td class="src">-&gt; Bool</td><td class="doc"><p>Indica se o mapa j&#225; deve deslizar.</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Personagem a ser utilizada pelo jogador.</p></td></tr><tr><td class="src">-&gt; Picture</td><td class="doc"><p>Retorna a imagem do jogo.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa6_2022li1g002.html#v:drawJogo" title="Tarefa6_2022li1g002">drawJogo</a></code> desenha o jogo principal da aplica&#231;&#227;o, utiliza as fun&#231;&#245;es auxiliares <code><a href="Tarefa6_2022li1g002.html#v:drawJogador" title="Tarefa6_2022li1g002">drawJogador</a></code>, <code><a href="Tarefa6_2022li1g002.html#v:drawMapa" title="Tarefa6_2022li1g002">drawMapa</a></code> e <code><a href="Tarefa6_2022li1g002.html#v:drawObstaculos" title="Tarefa6_2022li1g002">drawObstaculos</a></code>. &#201; tamb&#233;m encarregue do deslize suave do mapa. </p></div></div><div class="top"><p class="src"><a id="v:drawJogador" class="def">drawJogador</a> <a href="#v:drawJogador" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [Picture]</td><td class="doc"><p>Lista de imagens do jogador (inclui todas as personagens).</p></td></tr><tr><td class="src">-&gt; <a href="LI12223.html#t:Direcao" title="LI12223">Direcao</a></td><td class="doc"><p>Dire&#231;&#227;o atual do jogador.</p></td></tr><tr><td class="src">-&gt; <a href="LI12223.html#t:Coordenadas" title="LI12223">Coordenadas</a></td><td class="doc"><p>Coordenadas da posi&#231;&#227;o atual do jogador.</p></td></tr><tr><td class="src">-&gt; <a href="LI12223.html#t:Velocidade" title="LI12223">Velocidade</a></td><td class="doc"><p>Velocidade da linha onde o jogador se encontra (usado para animar o jogador suavemente quando este est&#225; em cima de um tronco).</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Ticks desde a &#250;ltima atualiza&#231;&#227;o do jogo.</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Personagem a ser utilizada.</p></td></tr><tr><td class="src">-&gt; Picture</td><td class="doc"><p>Retorna a imagem do jogador.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa6_2022li1g002.html#v:drawJogador" title="Tarefa6_2022li1g002">drawJogador</a></code> desenha o jogador na tela. </p></div></div><div class="top"><p class="src"><a id="v:drawMapa" class="def">drawMapa</a> <a href="#v:drawMapa" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [Picture]</td><td class="doc"><p>Imagens dos terrenos.</p></td></tr><tr><td class="src">-&gt; <a href="LI12223.html#t:Mapa" title="LI12223">Mapa</a></td><td class="doc"><p>Mapa a ser desenhado.</p></td></tr><tr><td class="src">-&gt; (Float, Float)</td><td class="doc"><p>(x,y) variam a cada itera&#231;&#227;o da fun&#231;&#227;o para desenhar o mapa de forma isom&#233;trica.</p></td></tr><tr><td class="src">-&gt; [Picture]</td><td class="doc"><p>Lista de imagens geradas (uma para cada linha do mapa).</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <strong>recursiva</strong> <code><a href="Tarefa6_2022li1g002.html#v:drawMapa" title="Tarefa6_2022li1g002">drawMapa</a></code> desenha a base das linhas do jogo (terrenos) tendo em conta que o jogo &#233; isom&#233;trico. </p></div></div><div class="top"><p class="src"><a id="v:drawLinha" class="def">drawLinha</a> <a href="#v:drawLinha" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [Picture]</td><td class="doc"><p>Imagens dos terrenos.</p></td></tr><tr><td class="src">-&gt; <a href="LI12223.html#t:Largura" title="LI12223">Largura</a></td><td class="doc"><p>N&#250;mero de colunas a serem desenhadas. </p></td></tr><tr><td class="src">-&gt; (<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>])</td><td class="doc"><p>Linha a ser desenhada. </p></td></tr><tr><td class="src">-&gt; (Float, Float)</td><td class="doc"><p>(x,y) variam a cada itera&#231;&#227;o da fun&#231;&#227;o para desenhar a linha de forma isom&#233;trica.</p></td></tr><tr><td class="src">-&gt; [Picture]</td><td class="doc"><p>Linha em imagem.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <strong>recursiva</strong> <code><a href="Tarefa6_2022li1g002.html#v:drawLinha" title="Tarefa6_2022li1g002">drawLinha</a></code> &#233; auxiliar de <code><a href="Tarefa6_2022li1g002.html#v:drawMapa" title="Tarefa6_2022li1g002">drawMapa</a></code> desenha uma linha na tela. </p></div></div><div class="top"><p class="src"><a id="v:drawSegmento" class="def">drawSegmento</a> <a href="#v:drawSegmento" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Picture</td><td class="doc"><p>Asset da imagem a ser desenhada.</p></td></tr><tr><td class="src">-&gt; (Float, Float)</td><td class="doc"><p>Posi&#231;&#227;o da imagem na tela.</p></td></tr><tr><td class="src">-&gt; Picture</td><td class="doc"><p>Imagem desenhada.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa6_2022li1g002.html#v:drawSegmento" title="Tarefa6_2022li1g002">drawSegmento</a></code> desenha uma imagem na grelha do jogo. </p></div></div><div class="top"><p class="src"><a id="v:drawObstaculos" class="def">drawObstaculos</a> <a href="#v:drawObstaculos" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [Picture]</td><td class="doc"><p>Assets das imagens dos obst&#225;culos.</p></td></tr><tr><td class="src">-&gt; <a href="LI12223.html#t:Mapa" title="LI12223">Mapa</a></td><td class="doc"><p>Mapa a ser desenhado.</p></td></tr><tr><td class="src">-&gt; (Float, Float)</td><td class="doc"><p>(x,y) variam a cada itera&#231;&#227;o da fun&#231;&#227;o para desenhar a linha de forma isom&#233;trica.</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Ticks desde a &#250;ltima atualiza&#231;&#227;o do jogo.</p></td></tr><tr><td class="src">-&gt; <a href="LI12223.html#t:Coordenadas" title="LI12223">Coordenadas</a></td><td class="doc"><p>Posi&#231;&#227;o do jogador no mapa, permite parar a anima&#231;&#227;o dos carros no caso de atropelamento.</p></td></tr><tr><td class="src">-&gt; [Picture]</td><td class="doc"><p>Lista de imagens geradas (uma para cada linha de obst&#225;culos do mapa).</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa6_2022li1g002.html#v:drawObstaculos" title="Tarefa6_2022li1g002">drawObstaculos</a></code> desenha os obst&#225;culos do jogo. </p></div></div><div class="top"><p class="src"><a id="v:drawLinhaObstaculo" class="def">drawLinhaObstaculo</a> <a href="#v:drawLinhaObstaculo" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [Picture]</td><td class="doc"><p>Assets das imagens dos obst&#225;culos.</p></td></tr><tr><td class="src">-&gt; [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>]</td><td class="doc"><p>Lista de obst&#225;culos a serem desenhados.</p></td></tr><tr><td class="src">-&gt; (Float, Float)</td><td class="doc"><p>(x,y) variam a cada itera&#231;&#227;o da fun&#231;&#227;o para desenhar a linha de obst&#225;culos de forma isom&#233;trica.</p></td></tr><tr><td class="src">-&gt; <a href="LI12223.html#t:Velocidade" title="LI12223">Velocidade</a></td><td class="doc"><p>Velocidade da linha de obst&#225;culos a ser desenhada.</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Ticks desde a &#250;ltima atualiza&#231;&#227;o do jogo.</p></td></tr><tr><td class="src">-&gt; Bool</td><td class="doc"><p>Caso a linha tenha causado um atropelamento, este <code>Bool</code> indica se a anima&#231;&#227;o dos carros deve parar.</p></td></tr><tr><td class="src">-&gt; [Picture]</td><td class="doc"><p>Imagem da linha de obst&#225;culos gerada.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa6_2022li1g002.html#v:drawLinhaObstaculo" title="Tarefa6_2022li1g002">drawLinhaObstaculo</a></code> uma linha de obst&#225;culos. </p></div></div><div class="top"><p class="src"><a id="v:inputReage" class="def">inputReage</a> <a href="#v:inputReage" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Event</td><td class="doc"><p>Nesta aplica&#231;&#227;o s&#243; usamos eventos do tipo <code>EventKey</code>, numa futura autaliza&#231;&#227;o seria poss&#237;vel utilizar <code>EventMotion</code> para receber a posi&#231;&#227;o do cursor e potencialmente permitir o uso do rato em menus.</p></td></tr><tr><td class="src">-&gt; <a href="Tarefa6_2022li1g002.html#t:Estado" title="Tarefa6_2022li1g002">Estado</a></td><td class="doc"><p>Estado da aplica&#231;&#227;o.</p></td></tr><tr><td class="src">-&gt; IO <a href="Tarefa6_2022li1g002.html#t:Estado" title="Tarefa6_2022li1g002">Estado</a></td><td class="doc"><p>Novo estado (p&#243;s input).</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa6_2022li1g002.html#v:inputReage" title="Tarefa6_2022li1g002">inputReage</a></code> controla todas as opera&#231;&#245;es que devem ser feitas quando a aplica&#231;&#227;o recebe um input do jogador. </p></div></div><div class="top"><p class="src"><a id="v:proximoN" class="def">proximoN</a> <a href="#v:proximoN" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Int</td><td class="doc"><p>Op&#231;&#227;o do menu antes de receber o input.</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>N&#250;mero da &#250;ltima op&#231;&#227;o.</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>(+1 ou -1) dependendo da seta em que o jogador carregou.</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Retorna a pr&#243;xima op&#231;&#227;o.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa6_2022li1g002.html#v:proximoN" title="Tarefa6_2022li1g002">proximoN</a></code> &#233; utilizada para decidir qual a pr&#243;xima op&#231;&#227;o a ser selecionada quando o jogador clica nas setas num menu, evita bastante repeti&#231;&#227;o de c&#243;digo. </p></div></div><div class="top"><p class="src"><a id="v:tempoReage" class="def">tempoReage</a> <a href="#v:tempoReage" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Float</td><td class="doc"><p>Per&#237;odo de tempo em segundos que o jogo precisa de avan&#231;ar (a nossa implementa&#231;&#227;o n&#227;o utiliza este argumento).</p></td></tr><tr><td class="src">-&gt; <a href="Tarefa6_2022li1g002.html#t:Estado" title="Tarefa6_2022li1g002">Estado</a></td><td class="doc"><p>Estado antes da atualiza&#231;&#227;o.</p></td></tr><tr><td class="src">-&gt; IO <a href="Tarefa6_2022li1g002.html#t:Estado" title="Tarefa6_2022li1g002">Estado</a></td><td class="doc"><p>Novo estado.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa6_2022li1g002.html#v:tempoReage" title="Tarefa6_2022li1g002">tempoReage</a></code> &#233; chamada sempre que um frame &#233; desenhado, dependendo da cena, dos ticks e de outros argumentos do estado, a fun&#231;&#227;o decide que opera&#231;&#227;o deve efetuar (se for necess&#225;rio).  </p></div></div><div class="top"><p class="src"><a id="v:corFundo" class="def">corFundo</a> <a href="#v:corFundo" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: Color</td><td class="doc"><p>Cor.</p></td></tr></table></div><div class="doc"><p>Cor do fundo da aplica&#231;&#227;o. (RGBA de 0 a 1) </p></div></div><div class="top"><p class="src"><a id="v:main" class="def">main</a> :: IO () <a href="#v:main" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa6_2022li1g002.html#v:main" title="Tarefa6_2022li1g002">main</a></code> carrega todas as imagens para a mem&#243;ria da aplica&#231;&#227;o e chama a fun&#231;&#227;o <code>playIO</code> do Gloss. 
Para carregar imagens do tipo .png (ao contr&#225;rio de .bmp), decidimos utlizar uma biblioteca externa <code><a href="Graphics-Gloss.html#v:Juicy" title="Graphics.Gloss">Juicy</a></code>.</p></div></div><div class="top"><p class="src"><a id="v:geraMapa" class="def">geraMapa</a> <a href="#v:geraMapa" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12223.html#t:Largura" title="LI12223">Largura</a></td><td class="doc"><p>Largura do mapa a ser gerado.</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Altura do mapa.</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p><em>Seed</em>.</p></td></tr><tr><td class="src">-&gt; <a href="LI12223.html#t:Mapa" title="LI12223">Mapa</a></td><td class="doc"><p>Mapa gerado.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <strong>n&#227;o recursiva</strong> <code><a href="Tarefa6_2022li1g002.html#v:geraMapa" title="Tarefa6_2022li1g002">geraMapa</a></code>, atrav&#233;s da fun&#231;&#227;o auxiliar <code><a href="Tarefa6_2022li1g002.html#v:geraMapaAux" title="Tarefa6_2022li1g002">geraMapaAux</a></code> e da fun&#231;&#227;o <code><a href="Tarefa2_2022li1g002.html#v:obterRandoms" title="Tarefa2_2022li1g002">obterRandoms</a></code> presente no m&#243;dulo da tarefa 2, gera um mapa pseudo-aleat&#243;rio utilizando uma <em>seed</em> e uma largura.</p></div></div><div class="top"><p class="src"><a id="v:geraMapaAux" class="def">geraMapaAux</a> <a href="#v:geraMapaAux" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [Int]</td><td class="doc"><p>Lista de <em>randoms</em>.</p></td></tr><tr><td class="src">-&gt; <a href="LI12223.html#t:Largura" title="LI12223">Largura</a></td><td class="doc"><p>Largura do mapa a ser gerado.</p></td></tr><tr><td class="src">-&gt; <a href="LI12223.html#t:Mapa" title="LI12223">Mapa</a></td><td class="doc"><p>Mapa gerado.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <strong>recursiva</strong> <code><a href="Tarefa6_2022li1g002.html#v:geraMapaAux" title="Tarefa6_2022li1g002">geraMapaAux</a></code> cria linha a linha o mapa a ser gerado, tendo em conta que a primeira linha ser&#225; relva, sem nenhum obst&#225;culo.</p></div></div><div class="top"><p class="src"><a id="v:arranjaRios" class="def">arranjaRios</a> <a href="#v:arranjaRios" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [(<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>])]</td><td class="doc"><p>Linhas do mapa a serem corrigidas.</p></td></tr><tr><td class="src">-&gt; [(<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>])]</td><td class="doc"><p>Linhas p&#243;s corre&#231;&#227;o dos rios.</p></td></tr></table></div><div class="doc"><p>Como na primeira parte do projeto o jogo foi feito a pensar no movimento do jogador sincronizado com a anima&#231;&#227;o dos obst&#225;culos, ao contr&#225;rio da segunda parte (jogador move-se independente da anima&#231;&#227;o dos obst&#225;culos), precisamos de fazer uma corre&#231;&#227;o ao movimento dos troncos para o jogador se conseguir mover. </p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:Chunk" class="def">Chunk</a> <a href="#t:Chunk" class="selflink">#</a></p><div class="doc"><p>Para o editor de mapas decidimos usar um tipo de dados diferente para a representa&#231;&#227;o de linhas. <code><a href="Tarefa6_2022li1g002.html#t:Chunk" title="Tarefa6_2022li1g002">Chunk</a></code> pode ser <code><a href="Tarefa6_2022li1g002.html#v:Nada" title="Tarefa6_2022li1g002">Nada</a></code> (sem terreno definido) ou '(Terreno, [Obstaculo])' </p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:Linha" class="def">Linha</a> (<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>])</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src"><a id="v:Nada" class="def">Nada</a></td><td class="doc empty">&nbsp;</td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:Chunk">Instances</h4><details id="i:Chunk" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Chunk:Read:1"></span> Read <a href="Tarefa6_2022li1g002.html#t:Chunk" title="Tarefa6_2022li1g002">Chunk</a></span> <a href="#t:Chunk" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Chunk:Read:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Tarefa6_2022li1g002.html">Tarefa6_2022li1g002</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:readsPrec">readsPrec</a> :: Int -&gt; ReadS <a href="Tarefa6_2022li1g002.html#t:Chunk" title="Tarefa6_2022li1g002">Chunk</a></p><p class="src"><a href="#v:readList">readList</a> :: ReadS [<a href="Tarefa6_2022li1g002.html#t:Chunk" title="Tarefa6_2022li1g002">Chunk</a>]</p><p class="src"><a href="#v:readPrec">readPrec</a> :: ReadPrec <a href="Tarefa6_2022li1g002.html#t:Chunk" title="Tarefa6_2022li1g002">Chunk</a></p><p class="src"><a href="#v:readListPrec">readListPrec</a> :: ReadPrec [<a href="Tarefa6_2022li1g002.html#t:Chunk" title="Tarefa6_2022li1g002">Chunk</a>]</p></div></details></td></tr><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:Chunk:Show:2"></span> Show <a href="Tarefa6_2022li1g002.html#t:Chunk" title="Tarefa6_2022li1g002">Chunk</a></span> <a href="#t:Chunk" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:Chunk:Show:2"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Tarefa6_2022li1g002.html">Tarefa6_2022li1g002</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Tarefa6_2022li1g002.html#t:Chunk" title="Tarefa6_2022li1g002">Chunk</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Tarefa6_2022li1g002.html#t:Chunk" title="Tarefa6_2022li1g002">Chunk</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Tarefa6_2022li1g002.html#t:Chunk" title="Tarefa6_2022li1g002">Chunk</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:CameraEditor" class="def">CameraEditor</a> = (Int, Int, Float) <a href="#t:CameraEditor" class="selflink">#</a></p><div class="doc"><p>Estado da c&#226;mera do editor <code>(x, y, zoom)</code> </p></div></div><div class="top"><p class="src"><a id="v:editorDeMapasImagens" class="def">editorDeMapasImagens</a> :: IO [[Picture]] <a href="#v:editorDeMapasImagens" class="selflink">#</a></p><div class="doc"><p>De forma a evitar o carregamento de imagens a mais no in&#237;cio da aplica&#231;&#227;o, o carregamento das imagens do editor faz-se apenas quando necess&#225;rio. </p></div></div><div class="top"><p class="src"><a id="v:alturaMapaEditor" class="def">alturaMapaEditor</a> :: Int <a href="#v:alturaMapaEditor" class="selflink">#</a></p><div class="doc"><p>Quantidade de linhas que aparecem na tela do editor. </p></div></div><div class="top"><p class="src"><a id="v:larguraMapaEditor" class="def">larguraMapaEditor</a> :: Int <a href="#v:larguraMapaEditor" class="selflink">#</a></p><div class="doc"><p>Quantidade de colunas que aparecem na tela editor. </p></div></div><div class="top"><p class="src"><span class="keyword">data</span> <a id="t:EstadoEditor" class="def">EstadoEditor</a> <a href="#t:EstadoEditor" class="selflink">#</a></p><div class="doc"><p>O <code><a href="Tarefa6_2022li1g002.html#t:EstadoEditor" title="Tarefa6_2022li1g002">EstadoEditor</a></code> controla os menus e intera&#231;&#245;es do editor de mapas (faz parte do estado geral da aplica&#231;&#227;o mas s&#243; &#233; alterado quando o utilizador est&#225; no editor de mapas). </p></div><div class="subs constructors"><p class="caption">Constructors</p><table><tr><td class="src"><a id="v:EstadoEditor" class="def">EstadoEditor</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><div class="subs fields"><p class="caption">Fields</p><ul><li><dfn class="src"><a id="v:chunks" class="def">chunks</a> :: [<a href="Tarefa6_2022li1g002.html#t:Chunk" title="Tarefa6_2022li1g002">Chunk</a>]</dfn><div class="doc"><p>Lista de chunks do mapa a ser editado.</p></div></li><li><dfn class="src"><a id="v:modo" class="def">modo</a> :: Int</dfn><div class="doc"><p>Modo de edi&#231;&#227;o.</p></div></li><li><dfn class="src"><a id="v:camera" class="def">camera</a> :: <a href="Tarefa6_2022li1g002.html#t:CameraEditor" title="Tarefa6_2022li1g002">CameraEditor</a></dfn><div class="doc"><p>Defini&#231;&#245;es da c&#226;mera.</p></div></li><li><dfn class="src"><a id="v:toolbar" class="def">toolbar</a> :: Int</dfn><div class="doc"><p>Toolbar a ser utilizada (toolbar de terrenos, toolbar de obst&#225;culos).</p></div></li><li><dfn class="src"><a id="v:itemSelecionado" class="def">itemSelecionado</a> :: Int</dfn><div class="doc"><p>Item da toolbar a ser utilizado.</p></div></li><li><dfn class="src"><a id="v:objeto" class="def">objeto</a> :: <a href="LI12223.html#t:Coordenadas" title="LI12223">Coordenadas</a></dfn><div class="doc"><p>Coordenadas do cursor do utilizador.</p></div></li><li><dfn class="src"><a id="v:receberInput" class="def">receberInput</a> :: Bool</dfn><div class="doc"><p>Indica se a aplica&#231;&#227;o est&#225; a receber inputs numa caixa de texto.</p></div></li><li><dfn class="src"><a id="v:nomeFicheiro" class="def">nomeFicheiro</a> :: String</dfn><div class="doc"><p>Nome do ficheiro (apenas utilizado quando o jogador est&#225; a gravar um mapa).</p></div></li><li><dfn class="src"><a id="v:receberSelectMapa" class="def">receberSelectMapa</a> :: (Bool, Int)</dfn><div class="doc"><p>Indica se a aplica&#231;&#227;o est&#225; a receber inputs numa caixa de sele&#231;&#227;o.</p></div></li><li><dfn class="src"><a id="v:mapasGuardados" class="def">mapasGuardados</a> :: [String]</dfn><div class="doc"><p>Mapas gravados no diret&#243;rio da aplica&#231;&#227;o.</p></div></li></ul></div></td></tr></table></div><div class="subs instances"><h4 class="instances details-toggle-control details-toggle" data-details-id="i:EstadoEditor">Instances</h4><details id="i:EstadoEditor" open="open"><summary class="hide-when-js-enabled">Instances details</summary><table><tr><td class="src clearfix"><span class="inst-left"><span class="instance details-toggle-control details-toggle" data-details-id="i:id:EstadoEditor:Show:1"></span> Show <a href="Tarefa6_2022li1g002.html#t:EstadoEditor" title="Tarefa6_2022li1g002">EstadoEditor</a></span> <a href="#t:EstadoEditor" class="selflink">#</a></td><td class="doc empty">&nbsp;</td></tr><tr><td colspan="2"><details id="i:id:EstadoEditor:Show:1"><summary class="hide-when-js-enabled">Instance details</summary><p>Defined in <a href="Tarefa6_2022li1g002.html">Tarefa6_2022li1g002</a></p> <div class="subs methods"><p class="caption">Methods</p><p class="src"><a href="#v:showsPrec">showsPrec</a> :: Int -&gt; <a href="Tarefa6_2022li1g002.html#t:EstadoEditor" title="Tarefa6_2022li1g002">EstadoEditor</a> -&gt; ShowS</p><p class="src"><a href="#v:show">show</a> :: <a href="Tarefa6_2022li1g002.html#t:EstadoEditor" title="Tarefa6_2022li1g002">EstadoEditor</a> -&gt; String</p><p class="src"><a href="#v:showList">showList</a> :: [<a href="Tarefa6_2022li1g002.html#t:EstadoEditor" title="Tarefa6_2022li1g002">EstadoEditor</a>] -&gt; ShowS</p></div></details></td></tr></table></details></div></div><div class="top"><p class="src"><a id="v:estadoEditorInicial" class="def">estadoEditorInicial</a> :: <a href="Tarefa6_2022li1g002.html#t:EstadoEditor" title="Tarefa6_2022li1g002">EstadoEditor</a> <a href="#v:estadoEditorInicial" class="selflink">#</a></p><div class="doc"><p>Estado inical do editor de mapas. </p></div></div><div class="top"><p class="src"><a id="v:drawEditor" class="def">drawEditor</a> <a href="#v:drawEditor" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Tarefa6_2022li1g002.html#t:EstadoEditor" title="Tarefa6_2022li1g002">EstadoEditor</a></td><td class="doc"><p>Estado do editor de mapas a ser desenhado.</p></td></tr><tr><td class="src">-&gt; [[Picture]]</td><td class="doc"><p>Imagens do terreno e obst&#225;culos.</p></td></tr><tr><td class="src">-&gt; [[Picture]]</td><td class="doc"><p>Imagens do UI do editor.</p></td></tr><tr><td class="src">-&gt; Picture</td><td class="doc"><p>Retorna a imagem do estado do editor.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa6_2022li1g002.html#v:drawEditor" title="Tarefa6_2022li1g002">drawEditor</a></code> desenha o editor de mapas. </p></div></div><div class="top"><p class="src"><a id="v:drawUIEditor" class="def">drawUIEditor</a> <a href="#v:drawUIEditor" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Tarefa6_2022li1g002.html#t:EstadoEditor" title="Tarefa6_2022li1g002">EstadoEditor</a></td><td class="doc"><p>Estado do editor de mapas a ser desenhado.</p></td></tr><tr><td class="src">-&gt; [[Picture]]</td><td class="doc"><p>Imagens do UI do editor.</p></td></tr><tr><td class="src">-&gt; Picture</td><td class="doc"><p>Retorna a imagem da interface.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa6_2022li1g002.html#v:drawUIEditor" title="Tarefa6_2022li1g002">drawUIEditor</a></code> desenha a interface do editor de mapas. </p></div></div><div class="top"><p class="src"><a id="v:caixaInput" class="def">caixaInput</a> <a href="#v:caixaInput" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: String</td><td class="doc"><p><code>String</code> do que j&#225; foi escrito.</p></td></tr><tr><td class="src">-&gt; Picture</td><td class="doc"><p>Imagem do fundo da caixa.</p></td></tr><tr><td class="src">-&gt; Picture</td><td class="doc"><p>Retorna a imagem da caixa com o input dentro.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa6_2022li1g002.html#v:caixaInput" title="Tarefa6_2022li1g002">caixaInput</a></code> desenha a interface da caixa de input de texto (quando o utilizador quer gravar um mapa tem de escrever o seu nome). </p></div></div><div class="top"><p class="src"><a id="v:caixaSelect" class="def">caixaSelect</a> <a href="#v:caixaSelect" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [String]</td><td class="doc"><p>Nomes dos mapas no diret&#243;rio da aplica&#231;&#227;o.</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Mapa selecionado.</p></td></tr><tr><td class="src">-&gt; Picture</td><td class="doc"><p>Fundo da caixa de select.</p></td></tr><tr><td class="src">-&gt; Picture</td><td class="doc"><p>Retorna a imagem da caixa com o nome dos mapas dentro.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa6_2022li1g002.html#v:caixaSelect" title="Tarefa6_2022li1g002">caixaSelect</a></code> desenha a interface da caixa de escolha (quando o utilizador quer escolher um mapa j&#225; feito). </p></div></div><div class="top"><p class="src"><a id="v:formataSelects" class="def">formataSelects</a> <a href="#v:formataSelects" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [Picture]</td><td class="doc"><p><code>Text</code>os com os nomes dos mapas.</p></td></tr><tr><td class="src">-&gt; Float</td><td class="doc"><p>Y da label, diminui em cada itera&#231;&#227;o da fun&#231;&#227;o.</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc empty">&nbsp;</td></tr><tr><td class="src">-&gt; [Picture]</td><td class="doc"><p>Retorna os textos separados.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <strong>recursiva</strong> <code><a href="Tarefa6_2022li1g002.html#v:formataSelects" title="Tarefa6_2022li1g002">formataSelects</a></code> &#233; auxiliar de <code><a href="Tarefa6_2022li1g002.html#v:caixaSelect" title="Tarefa6_2022li1g002">caixaSelect</a></code> e espa&#231;a os nomes dos mapas uns dos outros na caixa. </p></div></div><div class="top"><p class="src"><a id="v:desenhaCursor" class="def">desenhaCursor</a> <a href="#v:desenhaCursor" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="LI12223.html#t:Coordenadas" title="LI12223">Coordenadas</a></td><td class="doc"><p>Coordenadas do cursor.</p></td></tr><tr><td class="src">-&gt; Picture</td><td class="doc"><p>Imagem do cursor.</p></td></tr><tr><td class="src">-&gt; Picture</td><td class="doc"><p>Imagem do cursor posicionada na tela.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa6_2022li1g002.html#v:desenhaCursor" title="Tarefa6_2022li1g002">desenhaCursor</a></code> desenha o cursor do utilizador no mapa. </p></div></div><div class="top"><p class="src"><a id="v:drawChunks" class="def">drawChunks</a> <a href="#v:drawChunks" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [Picture]</td><td class="doc"><p>Imagens dos terrenos</p></td></tr><tr><td class="src">-&gt; [Picture]</td><td class="doc"><p>Imagens dos obst&#225;culos.</p></td></tr><tr><td class="src">-&gt; [<a href="Tarefa6_2022li1g002.html#t:Chunk" title="Tarefa6_2022li1g002">Chunk</a>]</td><td class="doc"><p>Linhas do mapa a ser editado.</p></td></tr><tr><td class="src">-&gt; (Float, Float)</td><td class="doc"><p>(x,y) variam a cada itera&#231;&#227;o da fun&#231;&#227;o para desenhar a linha de forma isom&#233;trica.</p></td></tr><tr><td class="src">-&gt; [Picture]</td><td class="doc"><p>Imagens das linhas.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa6_2022li1g002.html#v:drawChunks" title="Tarefa6_2022li1g002">drawChunks</a></code> desenha cada linha do mapa a ser editado. </p></div></div><div class="top"><p class="src"><a id="v:drawLinhaNada" class="def">drawLinhaNada</a> <a href="#v:drawLinhaNada" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [Picture]</td><td class="doc"><p>Imagens dos terrenos.</p></td></tr><tr><td class="src">-&gt; <a href="LI12223.html#t:Largura" title="LI12223">Largura</a></td><td class="doc"><p>Largura do mapa a ser desenhado.</p></td></tr><tr><td class="src">-&gt; (Float, Float)</td><td class="doc"><p>(x,y) variam a cada itera&#231;&#227;o da fun&#231;&#227;o para desenhar a linha de forma isom&#233;trica.</p></td></tr><tr><td class="src">-&gt; [Picture]</td><td class="doc"><p>Imagens da linha.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa6_2022li1g002.html#v:drawLinhaNada" title="Tarefa6_2022li1g002">drawLinhaNada</a></code> desenha linhas sem terreno. </p></div></div><div class="top"><p class="src"><a id="v:editaChunk" class="def">editaChunk</a> <a href="#v:editaChunk" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="Tarefa6_2022li1g002.html#t:Chunk" title="Tarefa6_2022li1g002">Chunk</a>]</td><td class="doc"><p>Mapa a ser editado.</p></td></tr><tr><td class="src">-&gt; <a href="LI12223.html#t:Coordenadas" title="LI12223">Coordenadas</a></td><td class="doc"><p>Coordenadas onde o utilizador realizou a edi&#231;&#227;o.</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>Tipo de edi&#231;&#227;o (altera&#231;&#227;o de terreno, adi&#231;&#227;o de obst&#225;uculo)</p></td></tr><tr><td class="src">-&gt; Int</td><td class="doc"><p>ID do objeto.</p></td></tr><tr><td class="src">-&gt; [<a href="Tarefa6_2022li1g002.html#t:Chunk" title="Tarefa6_2022li1g002">Chunk</a>]</td><td class="doc"><p>Mapa p&#243;s edi&#231;&#227;o.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa6_2022li1g002.html#v:editaChunk" title="Tarefa6_2022li1g002">editaChunk</a></code> recebe um <code><a href="Tarefa6_2022li1g002.html#t:Chunk" title="Tarefa6_2022li1g002">Chunk</a></code> e reliza a sua edi&#231;&#227;o relativamente aos inputs do utilizador. </p></div></div><div class="top"><p class="src"><a id="v:nomeMapasGuardados" class="def">nomeMapasGuardados</a> :: IO [String] <a href="#v:nomeMapasGuardados" class="selflink">#</a></p><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa6_2022li1g002.html#v:nomeMapasGuardados" title="Tarefa6_2022li1g002">nomeMapasGuardados</a></code> retorna os nomes de todos os mapas presentes no diret&#243;rio do jogo. </p></div></div><div class="top"><p class="src"><a id="v:leChunks" class="def">leChunks</a> <a href="#v:leChunks" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: String</td><td class="doc"><p>Nome do ficheiro.</p></td></tr><tr><td class="src">-&gt; IO [<a href="Tarefa6_2022li1g002.html#t:Chunk" title="Tarefa6_2022li1g002">Chunk</a>]</td><td class="doc"><p>Chunks carregados.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa6_2022li1g002.html#v:leChunks" title="Tarefa6_2022li1g002">leChunks</a></code> l&#234; um ficheiro .mapa e faz parse de uma lista de <code>[Chunk]</code>. </p></div></div><div class="top"><p class="src"><a id="v:chunksParaMapa" class="def">chunksParaMapa</a> <a href="#v:chunksParaMapa" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="Tarefa6_2022li1g002.html#t:Chunk" title="Tarefa6_2022li1g002">Chunk</a>]</td><td class="doc"><p>Lista de Chunks a ser transformada.</p></td></tr><tr><td class="src">-&gt; <a href="LI12223.html#t:Mapa" title="LI12223">Mapa</a></td><td class="doc"><p>Mapa gerado.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa6_2022li1g002.html#v:chunksParaMapa" title="Tarefa6_2022li1g002">chunksParaMapa</a></code> tranforma uma lista de Chunks num <code><a href="LI12223.html#t:Mapa" title="LI12223">Mapa</a></code> (usado para o utilizador poder jogar o mapa que est&#225; a editar). </p></div></div><div class="top"><p class="src"><a id="v:chunkParaLinha" class="def">chunkParaLinha</a> <a href="#v:chunkParaLinha" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: <a href="Tarefa6_2022li1g002.html#t:Chunk" title="Tarefa6_2022li1g002">Chunk</a></td><td class="doc"><p>Chunk a ser transformado.</p></td></tr><tr><td class="src">-&gt; (<a href="LI12223.html#t:Terreno" title="LI12223">Terreno</a>, [<a href="LI12223.html#t:Obstaculo" title="LI12223">Obstaculo</a>])</td><td class="doc"><p>Linha gerada. </p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa6_2022li1g002.html#v:chunkParaLinha" title="Tarefa6_2022li1g002">chunkParaLinha</a></code> &#233; auxiliar de <code><a href="Tarefa6_2022li1g002.html#v:chunksParaMapa" title="Tarefa6_2022li1g002">chunksParaMapa</a></code>, transforma um Chunk numa Linha do tipo <code>(Terreno, [Obstaculo])</code>. </p></div></div><div class="top"><p class="src"><a id="v:chunksProntos" class="def">chunksProntos</a> <a href="#v:chunksProntos" class="selflink">#</a></p><div class="subs arguments"><p class="caption">Arguments</p><table><tr><td class="src">:: [<a href="Tarefa6_2022li1g002.html#t:Chunk" title="Tarefa6_2022li1g002">Chunk</a>]</td><td class="doc"><p>Lista de chunks.</p></td></tr><tr><td class="src">-&gt; Bool</td><td class="doc"><p>Indica se a linha pode ser transformada.</p></td></tr></table></div><div class="doc"><p>A fun&#231;&#227;o <code><a href="Tarefa6_2022li1g002.html#v:chunksProntos" title="Tarefa6_2022li1g002">chunksProntos</a></code> indica se uma lista de chunks pode ser transformada numa lista de linhas (n&#227;o pode ter linhas sem terreno). </p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.26.0</p></div></body></html>